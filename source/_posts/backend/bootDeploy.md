---
title: 部署boot项目到服务器的一些踩坑和总结
date: 2021-09-24 23:31:00
tags:
- 随笔
categories: 
- 随笔
---
[[toc]]
花费了大概一天来来回回踩坑，坑是一个一个的踩，害~
<!-- more -->
## 测接本地接口
- 首先在本地把每一个接口都测一遍，确保能走通
- 测试gateway请求转发是否成功
- 最终接口全部完成

## 配服务器环境
之前租了一台腾讯云的服务器，放置了大半年一直没用(心疼我的钱阿w(ﾟДﾟ)w)，这次可算能用得到的，服务器环境什么都没配，找了一个教程(后续可能会补充一篇配置环境的博客)，把用到的都配了一下，用了宝塔面板(为后续踩下的坑埋一个伏笔)，记得去用户组，把端口打开
- docker
- nacos
- jdk8
- maven
- git
- MySQL(docker)
- redis(docker)
## 部署到服务器
- 使用maven把spring boot打包成jar包，一个jar包几十兆没想到那么大

- 把jar包放到服务器上，使用java -jar运行项目

```shell
#nohup 不挂断地运行命令,把日志输出都将附加到当前目录的 nohup.out文件中
# & 在后台运行
nohup java -jar xxx &
```

## 测试服务器接口
上来就遇到了一个大坑，服务器项目运行后，接口死活连不上，然后用了各种方法测试，明明把安全组的端口都打开了，为什么就是连不上呢，最终，发现原来还要把宝塔面板里面的端口给放行开，最后终于连上了

## 最后的最后(次日更)
人麻了，昨天写完这篇博客，第二天部署，发现接口能连上，数据库访问不到，又是一通不算三七二十一的各种排错，都不行，时间已经到了12点50了，万册尽的我尝试在百度搜索一下错误信息，最终都要放弃的我，尝试了一篇博客的评论区的一个方法，方法就是
```
把链接后面的改了下，然后就可以启动了，无语。。修改后
?useSSL=false&useUnicode=true&characterEncoding=utf-8&useLegacyDatetimeCode=false&serverTimezone=Asia/Shanghai
```
这是那个老哥的原话，而且还是两年前的评论，麻了，最终不抱任何希望的我重新打包部署，结果居然成了，我人傻了，真的各种奇葩BUG都能让我碰上，而且都不知道为什么要这样改，为什么会出现错误，害，只能继续提升自己的知识层面了- -
## 总结一下吧
- 想学点Linux方面的知识了，尤其是端口网络方面的，一知半解的，容易出错啊
- 华北五省比赛也到时间了，对这个比赛的态度是比较佛系，不想耽误过多的时间花费上面，把自己的业务完成，但是还是想拿个奖的，毕竟也算是检验一下学习成果吧
- 这两天社团招新，帮忙在食堂门口摆摊，尴尬的往那里一坐，有时候看到新生问的问题，想到了当年的我，也那么天真可爱，哈哈
- 最近在看《被抛弃的勇气》，涨了新的知识


- 最后，学习永无止境，冲就完事了

## 参考资料
[服务器配置](https://mp.weixin.qq.com/s/FqfGbYRvhiTU7q0aB1d2EA)
